From e2295fd52917970ad8ef68fb1231566208851329 Mon Sep 17 00:00:00 2001
From: Samrat <samratshekhar42@gmail.com>
Date: Tue, 6 Mar 2018 23:24:55 +0530
Subject: [PATCH] add fb login setup

---
 app/build.gradle                    |  1 +
 app/src/main/AndroidManifest.xml    | 19 ++++++++++++++++++-
 app/src/main/res/values/strings.xml |  3 ++-
 3 files changed, 21 insertions(+), 2 deletions(-)

diff --git a/app/build.gradle b/app/build.gradle
index f7ca89d..0bed395 100644
--- a/app/build.gradle
+++ b/app/build.gradle
@@ -26,6 +26,7 @@ dependencies {
     implementation 'com.android.support:design:26.1.0'
     implementation 'com.android.support:support-v4:26.1.0'
     implementation 'com.android.support.constraint:constraint-layout:1.0.2'
+    implementation 'com.facebook.android:facebook-login:[4,5)'
     compile 'com.google.android.gms:play-services-auth:11.8.0'
     compile 'com.google.firebase:firebase-auth:11.8.0'
     compile 'com.google.firebase:firebase-database:11.8.0'
diff --git a/app/src/main/AndroidManifest.xml b/app/src/main/AndroidManifest.xml
index 931521c..2083a77 100644
--- a/app/src/main/AndroidManifest.xml
+++ b/app/src/main/AndroidManifest.xml
@@ -18,6 +18,9 @@
         <meta-data
             android:name="com.google.android.geo.API_KEY"
             android:value="@string/google_android_map_api_key" />
+        <meta-data android:name="com.facebook.sdk.ApplicationId"
+            android:value="@string/facebook_app_id"/>
+
         <activity
             android:name=".activities.MainActivity"
             android:label="@string/app_name"
@@ -31,7 +34,21 @@
         <activity
             android:name=".activities.HomeActivity"
             android:label="@string/title_activity_home"
-            android:theme="@style/AppTheme.NoActionBar"></activity>
+            android:theme="@style/AppTheme.NoActionBar" />
+        <activity android:name="com.facebook.FacebookActivity"
+            android:configChanges=
+                "keyboard|keyboardHidden|screenLayout|screenSize|orientation"
+            android:label="@string/app_name" />
+        <activity
+            android:name="com.facebook.CustomTabActivity"
+            android:exported="true">
+            <intent-filter>
+                <action android:name="android.intent.action.VIEW" />
+                <category android:name="android.intent.category.DEFAULT" />
+                <category android:name="android.intent.category.BROWSABLE" />
+                <data android:scheme="@string/fb_login_protocol_scheme" />
+            </intent-filter>
+        </activity>
     </application>
 
 </manifest>
\ No newline at end of file
diff --git a/app/src/main/res/values/strings.xml b/app/src/main/res/values/strings.xml
index 4cf42c1..727303e 100644
--- a/app/src/main/res/values/strings.xml
+++ b/app/src/main/res/values/strings.xml
@@ -2,8 +2,9 @@
     <string name="app_name">Trovami</string>
     <string name="action_settings">Settings</string>
     <string name="title_activity_home">HomeActivity</string>
-
     <string name="navigation_drawer_open">Open navigation drawer</string>
     <string name="navigation_drawer_close">Close navigation drawer</string>
     <string name="google_android_map_api_key">AIzaSyAxiIjCx9GqCnPP5PB0mqxUeseWCKTNhNg</string>
+    <string name="facebook_app_id">592165007804780</string>
+    <string name="fb_login_protocol_scheme">fb592165007804780</string>
 </resources>
-- 
2.15.1

